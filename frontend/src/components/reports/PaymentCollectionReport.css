/* ===== Payment / Collection Report ===== */

/* --- Theme & page --- */
.rpt-wrap{
  --bg:#f7f7fb; --card:#fff; --text:#111827; --muted:#6b7280; --ring:#e5e7eb;
  --shadow:0 10px 15px -3px rgba(0,0,0,.08), 0 4px 6px -2px rgba(0,0,0,.04);
  background:var(--bg); color:var(--text);
  min-height:100vh; padding:20px; box-sizing:border-box;
}

/* --- Header --- */
.rpt-header{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:16px; }
.rpt-header .left{ display:flex; align-items:center; gap:12px; }
.rpt-header h2{
  margin:0;
  font-weight:800; font-size:22px; line-height:1.2;
  font-family:system-ui,-apple-system,"Segoe UI",Roboto,sans-serif;
  letter-spacing:.2px; color:#1d4ed8;
}

/* --- Icon buttons --- */
.iconbtn{
  display:grid; place-items:center; width:36px; height:36px; border-radius:10px;
  border:1px solid var(--ring); background:#fff; cursor:pointer;
  transition:transform .06s, box-shadow .12s, background .12s;
}
.iconbtn:hover{ box-shadow:var(--shadow); background:#fafafa; }
.iconbtn:active{ transform:translateY(1px); }

/* --- Error banner --- */
.rpt-error{
  margin-bottom:12px; padding:10px 12px; border-radius:12px; font-weight:600;
  background:#fff1f2; color:#991b1b; border:1px solid #fecaca;
}

/* --- Toolbar --- */
.rpt-toolbar{
  background:var(--card); border:1px solid var(--ring); border-radius:14px; box-shadow:var(--shadow);
  padding:14px; display:grid; grid-template-columns:repeat(12,1fr); gap:12px; align-items:end; margin-bottom:16px;
}
.rpt-toolbar .field{ grid-column:span 3; display:grid; gap:6px; min-width:0; }
.rpt-toolbar .field.grow{ grid-column:span 6; }

@media (max-width:1100px){
  .rpt-toolbar .field,
  .rpt-toolbar .field.grow{ grid-column:span 6; }
}
@media (max-width:720px){
  .rpt-toolbar{ grid-template-columns:1fr; }
  .rpt-toolbar .field,
  .rpt-toolbar .field.grow{ grid-column:1 / -1; }
}

.rpt-toolbar label{
  font-weight:700; font-size:12px; line-height:1.2;
  font-family:system-ui,-apple-system,"Segoe UI",Roboto,sans-serif;
  color:var(--muted); letter-spacing:.3px;
}
.rpt-toolbar input[type="date"],
.rpt-toolbar select,
.rpt-toolbar input{
  height:36px; border:1px solid var(--ring); border-radius:10px; padding:0 10px; outline:none; background:#fff;
}
.rpt-toolbar input:focus,
.rpt-toolbar select:focus{
  border-color:#2563eb; box-shadow:0 0 0 3px rgba(37,99,235,.18);
}

/* --- Actions --- */
.rpt-toolbar .actions{ grid-column:span 3; display:flex; gap:10px; justify-content:flex-end; }
@media (max-width:1100px){
  .rpt-toolbar .actions{ grid-column:1 / -1; justify-content:flex-start; }
}
.act{
  height:36px; border:0; border-radius:10px; padding:0 16px; color:#fff; font-weight:700; cursor:pointer;
  transition:transform .06s, filter .12s, box-shadow .12s;
}
.act:hover{ filter:brightness(1.03); box-shadow:var(--shadow); }
.act:active{ transform:translateY(1px); }
.act.run{ background:#7c3aed; }    /* purple */
.act.export{ background:#059669; }  /* green  */
.act.print{ background:#2563eb; }   /* blue   */

/* --- Card & table --- */
.rpt-card{ background:var(--card); border:1px solid var(--ring); border-radius:14px; box-shadow:var(--shadow); overflow:hidden; }
.rpt-tablewrap{ width:100%; overflow:auto; position:relative; }
.rpt-table{ width:100%; border-collapse:separate; border-spacing:0; min-width:900px; }

/* sticky header works when parent has background; add z-index for safety */
.rpt-table thead th{
  position:sticky; top:0; z-index:1;
  background:#eff6ff; color:#1d4ed8;
  text-align:left; padding:10px 12px; font-size:12px; letter-spacing:.4px; border-bottom:1px solid var(--ring);
}
.rpt-table tbody td{ padding:10px 12px; border-bottom:1px solid #f0f0f6; background:#fff; }
.rpt-table tbody tr:nth-child(odd) td{ background:#f9fbff; }

/* states */
.rpt-empty{ text-align:center; padding:28px !important; color:var(--muted); }
.rpt-loading{ padding:28px; text-align:center; color:var(--muted); }

/* --- Summary --- */
.rpt-summary{
  display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:12px; margin:14px 0;
}
@media (max-width:720px){ .rpt-summary{ grid-template-columns:1fr; } }
.rpt-summary .box{
  background:var(--card); border:1px solid var(--ring); border-radius:14px; box-shadow:var(--shadow);
  padding:14px; display:flex; align-items:center; justify-content:space-between;
}
.rpt-summary .box .k{
  font-weight:700; font-size:12px; line-height:1.2;
  font-family:system-ui,-apple-system,"Segoe UI",Roboto,sans-serif;
  color:var(--muted); letter-spacing:.3px;
}
.rpt-summary .box .v{
  font-weight:800; font-size:18px; line-height:1.2;
  font-family:system-ui,-apple-system,"Segoe UI",Roboto,sans-serif;
}

/* --- Pager --- */
.rpt-pager{ display:flex; align-items:center; justify-content:center; gap:12px; margin:8px 0 24px; }
.rpt-pager button{
  height:34px; padding:0 14px; border-radius:10px; border:1px solid var(--ring); background:#fff; font-weight:700; cursor:pointer;
}
.rpt-pager button:disabled{ opacity:.5; cursor:not-allowed; }

/* --- Print --- */
@media print{
  .rpt-toolbar, .rpt-summary, .rpt-pager, .iconbtn{ display:none !important; }
  .rpt-wrap{ padding:0; background:#fff; }
  .rpt-header{ margin:0 0 8px; }
  .rpt-card{ border:0; box-shadow:none; }
  .rpt-table thead th{ position:static; }
}
